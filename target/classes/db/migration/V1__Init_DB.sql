 drop table if exists age_rate;
 drop table if exists book_genres;
 drop table if exists books;
 drop table if exists coments;
 drop table if exists coment_to_user;
 drop table if exists friends;
 drop table if exists genre;
 drop table if exists hibernate_sequence;
 drop table if exists library_user;
  drop table if exists like_books;
  drop table if exists marks;
 drop table if exists message;
 drop table if exists pages;
 drop table if exists recenz;
 drop table if exists status;
 drop table if exists subs;
 drop table if exists support;
 drop table if exists types_lib_user;
 drop table if exists user_property;
 drop table if exists user_role;
 drop table if exists usr;
 drop table if exists usrp;
 drop table if exists usrp_user_friends;
 drop table if exists usrp_user_subs;

 create table age_rate (id bigint not null, age_rate varchar(255), primary key (id)) engine=InnoDB;
 create table book_genres (book_id bigint not null, genres_id_genre bigint not null) engine=InnoDB;
 create table books (id bigint not null, about varchar(2048), date_publish date, date_update date, img_book varchar(255), lenght_book integer not null, likes integer not null, marks double not null, name_book varchar(255), rating double precision not null, views integer not null, rate_age bigint, user_id bigint, coments bigint, recenz bigint, book_status bigint, primary key (id)) engine=InnoDB;
 create table coments (id bigint not null, coment varchar(2048),date_create date, user_id_first_com bigint, book_id bigint, page_id bigint, primary key (id)) engine=InnoDB;
 create table coment_to_user (id bigint not null, coment varchar(2048), isitnew bit not null, number_mes integer not null, personal bit not null, user_id_author_com bigint,date_create date, user_id_page_com bigint,is_read bit not null, primary key (id)) engine=InnoDB;
 create table friends (id bigint not null, who_sub bigint, sub bigint, primary key (id)) engine=InnoDB;
 create table genre (id_genre bigint not null, name_genre varchar(255), primary key (id_genre)) engine=InnoDB;
 create table hibernate_sequence (next_val bigint) engine=InnoDB;
 insert into hibernate_sequence values ( 2 );
 create table library_user (id bigint not null, book bigint, name_lib bigint, user bigint, primary key (id)) engine=InnoDB;
 create table like_books (id bigint not null, is_like bit not null, book_id bigint, user_id bigint, primary key (id)) engine=InnoDB;
 create table marks (id bigint not null, mark integer not null, book_id bigint, user_id bigint, primary key (id)) engine=InnoDB;
 create table message (id bigint not null, filename varchar(255), tag varchar(255), text varchar(2048), user_id bigint, primary key (id)) engine=InnoDB;
 create table pages (id bigint not null, name_page varchar(255), number_chapter integer not null, number_page integer not null, text_page TEXT, id_book bigint, primary key (id)) engine=InnoDB;
 create table recenz (id bigint not null, recenz_text varchar(2048), user_id_author_recenz bigint, book_id bigint, primary key (id)) engine=InnoDB;
 create table status (id bigint not null, name_status varchar(255), primary key (id)) engine=InnoDB;
 create table subs (id bigint not null, id_author bigint, id_who_sub bigint, primary key (id)) engine=InnoDB;
 create table support (id bigint not null, answer varchar(255), coment varchar(255), user_id bigint,date_create date,is_read bit not null,isitnew bit not null, primary key (id)) engine=InnoDB;
 create table types_lib_user (id bigint not null, name_type varchar(255), primary key (id)) engine=InnoDB;
 create table user_property (id bigint not null, color_border varchar(255), color_text varchar(255),user_id bigint , size_text varchar(255), primary key (id)) engine=InnoDB;
 create table user_role (user_id bigint not null, roles varchar(255)) engine=InnoDB;
 create table usr (id bigint not null, active bit not null, email varchar(255), password varchar(255), user_font_img varchar(255), user_img varchar(255), username varchar(255),date_create date, vip bit not null, user_personal bigint, primary key (id)) engine=InnoDB;
 create table usrp (id bigint not null, about_user varchar(2048), date_birsday date, facebook_href varchar(255), gender varchar(255), instagram_href varchar(255), name varchar(255), skype_href varchar(255), status_life varchar(255), surname varchar(255), vk_href varchar(255), primary key (id)) engine=InnoDB;
 create table usrp_user_friends (user_personal_id bigint not null, user_friends_id bigint not null) engine=InnoDB;
 alter table user_property add constraint FK4rax8io3qqhk31r113e7swd9b foreign key (user_id) references usr (id);
 create table usrp_user_subs (user_personal_id bigint not null, user_subs_id bigint not null) engine=InnoDB;
 alter table book_genres add constraint FKs8dftjra5ljvblpy23fjc032y foreign key (genres_id_genre) references genre (id_genre);
 alter table book_genres add constraint FKtqnlma9c5byf3gfqsuu0ebrl5 foreign key (book_id) references books (id);
 alter table books add constraint FKodrrme8g6pn3uq5w1o01piql7 foreign key (rate_age) references age_rate (id);
 alter table books add constraint FKaaw1q71x73au52leowe1x2jsr foreign key (user_id) references usr (id);
 alter table books add constraint FKean1qs78kvfyr3l7kvxd693k foreign key (coments) references coments (id);
 alter table books add constraint FKmqh0os224ikrxsf0io1ikq39m foreign key (recenz) references recenz (id);
 alter table books add constraint FKcj3akms5ljy7k1xfyiyarfvrt foreign key (book_status) references status (id);
 alter table coments add constraint FKr12i43mx1va02w5v2od4oi9ee foreign key (user_id_first_com) references usr (id);
 alter table coments add constraint FKii785a9lh1aqujq4vohitx8q foreign key (book_id) references books (id);
 alter table coments add constraint FKat90sxu0kmo1b9cqvn5xjv1me foreign key (page_id) references pages (id);
 alter table coment_to_user add constraint FKd0mfi4ri353fqnqrned9y4p8w foreign key (user_id_author_com) references usr (id);
 alter table coment_to_user add constraint FKbscxhro04u8c6n61b3xysfqqe foreign key (user_id_page_com) references usr (id);
 alter table friends add constraint FKshe8q78xmcuxsqqycw7a58qjk foreign key (who_sub) references usr (id);
 alter table friends add constraint FKby96586dftrg2i9fxtwujfygu foreign key (sub) references usr (id);
 alter table library_user add constraint FKg9t8fbiopcaang6xbwsggso9r foreign key (book) references books (id);
 alter table library_user add constraint FK1crn64qp5kfdja7467he71erq foreign key (name_lib) references types_lib_user (id);
 alter table library_user add constraint FKerwt6fcd0mwoo39c9pmkn3qwn foreign key (user) references usr (id);
 alter table like_books add constraint FKld097ki1pm9xgk802p4t7rhk0 foreign key (book_id) references books (id);
 alter table like_books add constraint FKb4whvf6cnvdnhng8r1y9txnnw foreign key (user_id) references usr (id);
 alter table marks add constraint FK1u0u2177ea2dimvl81hh3p5kj foreign key (book_id) references books (id);
 alter table marks add constraint FK8kolhapxdmr6lo8p882tlj73r foreign key (user_id) references usr (id);
 alter table message add constraint FK70bv6o4exfe3fbrho7nuotopf foreign key (user_id) references usr (id);
 alter table pages add constraint FKcv1xx3algb12eho0ojxks4k2j foreign key (id_book) references books (id);
 alter table recenz add constraint FK9jtwwaatawx24i6amusdbi7d8 foreign key (user_id_author_recenz) references usr (id);
 alter table recenz add constraint FKr61n992v5l5609d9dkcl7pp8s foreign key (book_id) references books (id);
 alter table support add constraint FK374q0mwntdxm4el929vwflfhx foreign key (user_id) references usr (id);
 alter table user_role add constraint FKfpm8swft53ulq2hl11yplpr5 foreign key (user_id) references usr (id);
 alter table usr add constraint FKmiu1mdup7dh64q4b57lj1rc7h foreign key (user_personal) references usrp (id);
 alter table usrp_user_friends add constraint FKqxnnq4vgyifsq3swc1qrgwlr4 foreign key (user_friends_id) references friends (id);
 alter table usrp_user_friends add constraint FK4m8jqxjcr77hm8vr3ibu2gvv9 foreign key (user_personal_id) references usrp (id);
 alter table usrp_user_subs add constraint FK4wmxa5ytemntw67vvxlj1nngh foreign key (user_subs_id) references subs (id);
 alter table usrp_user_subs add constraint FKf9uixk2t0j3myqwsgcyq16ahb foreign key (user_personal_id) references usrp (id);

